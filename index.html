<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LunaPlay - Play Games Online</title>
    <style>
        :root {
            --bg-primary: #ff9a9e;
            --bg-secondary: #fad0c4;
            --text-color: #5d3a3a;
            --card-bg: rgba(255, 255, 255, 0.3);
            --header-bg: rgba(255, 255, 255, 0.2);
            --btn-primary: #ff6b81;
            --btn-hover: #ff4757;
        }

        .dark-mode {
            --bg-primary: #1a1a2e;
            --bg-secondary: #16213e;
            --text-color: #e6e6e6;
            --card-bg: rgba(30, 30, 46, 0.7);
            --header-bg: rgba(26, 26, 46, 0.8);
            --btn-primary: #e94560;
            --btn-hover: #ff2e63;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
            color: var(--text-color);
            margin: 0;
            padding: 0;
            transition: background 0.5s, color 0.5s;
        }
        
        .header {
            background: var(--header-bg);
            backdrop-filter: blur(10px);
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .game-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            padding: 30px;
        }
        
        .game-card {
            background: var(--card-bg);
            border-radius: 15px;
            overflow: hidden;
            transition: transform 0.3s;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
        }
        
        .game-card:hover {
            transform: translateY(-10px);
        }
        
        .game-thumbnail {
            width: 100%;
            height: 180px;
            object-fit: cover;
        }
        
        .game-info {
            padding: 15px;
            flex-grow: 1;
        }
        
        .game-actions {
            padding: 0 15px 15px;
        }
        
        .fullscreen-btn {
            background: var(--btn-primary);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s;
            width: 100%;
        }
        
        .fullscreen-btn:hover {
            background: var(--btn-hover);
        }
        
        .dark-mode-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--btn-primary);
            color: white;
            border: none;
            padding: 10px;
            border-radius: 50%;
            cursor: pointer;
            z-index: 100;
        }

        .game-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: black;
            z-index: 999;
            display: none;
        }

        .close-game {
            position: absolute;
            top: 20px;
            right: 20px;
            background: red;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            z-index: 1000;
        }

        #gameFrame {
            width: 100%;
            height: 100%;
            border: none;
        }

        .rom-upload {
            display: none;
        }

        .tab-buttons {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }

        .tab-button {
            padding: 10px 20px;
            background: var(--btn-primary);
            color: white;
            border: none;
            cursor: pointer;
            margin: 0 5px;
            border-radius: 5px;
        }

        .tab-button.active {
            background: var(--btn-hover);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }
    </style>
</head>
<body>
    <button class="dark-mode-toggle" onclick="toggleDarkMode()">ðŸŒ™</button>
    
    <div class="header">
        <h1>LunaPlay</h1>
        <p>Play your favorite games online</p>
    </div>

    <div class="tab-buttons">
        <button class="tab-button active" onclick="openTab('html5')">HTML5 Games</button>
        <button class="tab-button" onclick="openTab('retro')">Retro Games</button>
    </div>
    
    <div id="html5" class="tab-content active">
        <div class="game-grid">
            <!-- HTML5 Games -->
            <div class="game-card">
                <img src="https://www.google.com/logos/fnbx/pacman/arcade/pacman10-hp.png" alt="Pac-Man" class="game-thumbnail">
                <div class="game-info">
                    <h3>Pac-Man</h3>
                    <p>The classic arcade game</p>
                </div>
                <div class="game-actions">
                    <button class="fullscreen-btn" onclick="launchGame('https://www.google.com/logos/fnbx/pacman/arcade.html')">Play Fullscreen</button>
                </div>
            </div>
            
            <div class="game-card">
                <img src="https://tetris.com/images/og-image.jpg" alt="Tetris" class="game-thumbnail">
                <div class="game-info">
                    <h3>Tetris</h3>
                    <p>The classic block-stacking game</p>
                </div>
                <div class="game-actions">
                    <button class="fullscreen-btn" onclick="launchGame('https://tetris.com/play-tetris')">Play Fullscreen</button>
                </div>
            </div>
            
            <div class="game-card">
                <img src="https://playsnake.org/social.jpg" alt="Snake" class="game-thumbnail">
                <div class="game-info">
                    <h3>Snake</h3>
                    <p>The classic Nokia snake game</p>
                </div>
                <div class="game-actions">
                    <button class="fullscreen-btn" onclick="launchGame('https://playsnake.org/')">Play Fullscreen</button>
                </div>
            </div>
            
            <div class="game-card">
                <img src="https://i.ytimg.com/vi/2lRfU6_6a5I/maxresdefault.jpg" alt="2048" class="game-thumbnail">
                <div class="game-info">
                    <h3>2048</h3>
                    <p>Slide tiles to combine them</p>
                </div>
                <div class="game-actions">
                    <button class="fullscreen-btn" onclick="launchGame('https://play2048.co/')">Play Fullscreen</button>
                </div>
            </div>
        </div>
    </div>

    <div id="retro" class="tab-content">
        <div class="game-grid">
            <!-- Retro Games -->
            <div class="game-card">
                <img src="https://retroachievements.org/Images/000002.png" alt="Super Mario Bros" class="game-thumbnail">
                <div class="game-info">
                    <h3>Super Mario Bros</h3>
                    <p>The classic NES platformer</p>
                    <p><small>Upload NES ROM to play</small></p>
                </div>
                <div class="game-actions">
                    <input type="file" id="mario-rom" class="rom-upload" accept=".nes,.zip">
                    <button class="fullscreen-btn" onclick="document.getElementById('mario-rom').click()">Upload ROM</button>
                </div>
            </div>
            
            <div class="game-card">
                <img src="https://retroachievements.org/Images/000001.png" alt="Tetris" class="game-thumbnail">
                <div class="game-info">
                    <h3>Tetris (NES)</h3>
                    <p>The classic NES version</p>
                    <p><small>Upload NES ROM to play</small></p>
                </div>
                <div class="game-actions">
                    <input type="file" id="tetris-rom" class="rom-upload" accept=".nes,.zip">
                    <button class="fullscreen-btn" onclick="document.getElementById('tetris-rom').click()">Upload ROM</button>
                </div>
            </div>
            
            <div class="game-card">
                <img src="https://retroachievements.org/Images/000008.png" alt="Sonic" class="game-thumbnail">
                <div class="game-info">
                    <h3>Sonic the Hedgehog</h3>
                    <p>The classic Genesis game</p>
                    <p><small>Upload Genesis ROM to play</small></p>
                </div>
                <div class="game-actions">
                    <input type="file" id="sonic-rom" class="rom-upload" accept=".gen,.zip,.md">
                    <button class="fullscreen-btn" onclick="document.getElementById('sonic-rom').click()">Upload ROM</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="game-container" id="gameContainer">
        <button class="close-game" onclick="closeGame()">Close Game</button>
        <iframe id="gameFrame" width="100%" height="100%" frameborder="0"></iframe>
    </div>
    
    <script>
        // Dark Mode Toggle
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
            const darkModeBtn = document.querySelector('.dark-mode-toggle');
            if (document.body.classList.contains('dark-mode')) {
                darkModeBtn.textContent = 'â˜€ï¸';
            } else {
                darkModeBtn.textContent = 'ðŸŒ™';
            }
        }

        // Tab Navigation
        function openTab(tabId) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Deactivate all tab buttons
            document.querySelectorAll('.tab-button').forEach(button => {
                button.classList.remove('active');
            });
            
            // Show selected tab content
            document.getElementById(tabId).classList.add('active');
            
            // Activate selected button
            event.currentTarget.classList.add('active');
        }

        // Launch HTML5 Games
        function launchGame(gameUrl) {
            const container = document.getElementById('gameContainer');
            const frame = document.getElementById('gameFrame');
            
            frame.src = gameUrl;
            container.style.display = 'block';
            
            // Try to enter fullscreen
            if (container.requestFullscreen) {
                container.requestFullscreen();
            } else if (container.webkitRequestFullscreen) {
                container.webkitRequestFullscreen();
            } else if (container.msRequestFullscreen) {
                container.msRequestFullscreen();
            }
        }

        // Close Game
        function closeGame() {
            const container = document.getElementById('gameContainer');
            const frame = document.getElementById('gameFrame');
            
            frame.src = '';
            container.style.display = 'none';
            
            // Exit fullscreen
            if (document.exitFullscreen) {
                document.exitFullscreen();
            } else if (document.webkitExitFullscreen) {
                document.webkitExitFullscreen();
            } else if (document.msExitFullscreen) {
                document.msExitFullscreen();
            }
        }

        // ROM Upload Handlers
        document.getElementById('mario-rom').addEventListener('change', function(e) {
            loadRetroGame(e.target.files[0], 'nes');
        });

        document.getElementById('tetris-rom').addEventListener('change', function(e) {
            loadRetroGame(e.target.files[0], 'nes');
        });

        document.getElementById('sonic-rom').addEventListener('change', function(e) {
            loadRetroGame(e.target.files[0], 'genesis');
        });

        // Load Retro Game
        function loadRetroGame(romFile, core) {
            if (!romFile) return;
            
            const container = document.getElementById('gameContainer');
            const frame = document.getElementById('gameFrame');
            
            // Load emulator script dynamically
            if (!window.EmulatorJS) {
                const script = document.createElement('script');
                script.src = 'https://cdn.jsdelivr.net/npm/emulatorjs@1.6.2/emulator.min.js';
                script.onload = function() {
                    startEmulator(romFile, core, container, frame);
                };
                document.head.appendChild(script);
            } else {
                startEmulator(romFile, core, container, frame);
            }
        }

        function startEmulator(romFile, core, container, frame) {
            const reader = new FileReader();
            reader.onload = function(e) {
                container.style.display = 'block';
                container.innerHTML = '<button class="close-game" onclick="closeGame()">Close Game</button><div id="emulator-screen"></div>';
                
                new EmulatorJS(document.getElementById('emulator-screen'), {
                    rom: e.target.result,
                    core: core,
                    disableUI: true,
                    fullscreenOnLoad: true
                }).start();
                
                if (container.requestFullscreen) {
                    container.requestFullscreen();
                }
            };
            reader.readAsArrayBuffer(romFile);
        }
    </script>
</body>
</html>
